(this.webpackJsonpassessment=this.webpackJsonpassessment||[]).push([[0],{101:function(e,t,a){},102:function(e,t,a){},130:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),s=(a(101),a(102),a(44)),i=a(13),b=a(66),l=a(67),j=a(84),u=a(83),d=a(50),p=a.n(d),O=a(68),h=a(69),g=a(25),m=a(167),f=a(174),x=a(170),y=a(172),k=a(173),v=a(6),N=Object(m.a)((function(e){return{listClass:{backgroundColor:"#EBEBEB",minHeight:"180px"},gridMargin:{margin:"10px"}}})),I=function(e){var t=e.title,a=e.authors,n=e.city,r=e.country,c=e.year,o=e.id,s=N();return Object(v.jsx)(x.a,{item:!0,sm:6,md:4,className:s.gridMargin,children:Object(v.jsxs)(y.a,{className:s.listClass,children:[Object(v.jsx)(k.a,{alignItems:"flex-start",children:Object(v.jsxs)(f.a,{variant:"body2",children:[Object(v.jsx)("strong",{children:"Title: "}),t]})}),Object(v.jsx)(k.a,{alignItems:"flex-start",children:a&&a.map((function(e,t){return Object(v.jsxs)(f.a,{variant:"body2",children:[Object(v.jsx)("strong",{children:"Author(s): "})," ",e]},e+t)}))}),Object(v.jsx)(k.a,{alignItems:"flex-start",children:Object(v.jsxs)(f.a,{variant:"body2",id:"book-year",children:[Object(v.jsx)("strong",{"test-data":"year",children:"Year: "}),c]})}),Object(v.jsx)(k.a,{alignItems:"flex-start",children:Object(v.jsxs)(f.a,{variant:"body2",children:[Object(v.jsx)("strong",{children:"Place: "}),n+", "+r]})})]})},o)},w=a(16),C=a(183),_=a(182),P=[],E="GET_BOOKS",A="SEARCH_BOOK",B="GET_PAGE_NUMBER",G="FAIL",S="LOADING",D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case E:return n;case A:return Object(w.a)(Object(w.a)({},e),{},{searchKey:n});case B:return Object(w.a)(Object(w.a)({},e),{},{pageNumber:n});case S:return Object(w.a)(Object(w.a)({},e),{},{loading:n});case G:return Object(w.a)(Object(w.a)({},e),{},{error:n});default:return e}},M=a(76),T=a.n(M),K=function(e,t,a){return function(n){n({type:S,payload:!0}),T.a.post("http://nyx.vima.ekt.gr:3000/api/books?page=".concat(e,"&itemsPerPag=").concat(t,"&filters=").concat(a)).then((function(e){n({type:E,payload:e.data}),n({type:S,payload:!1})})).catch((function(e){n({type:G,payload:!0})}))}},L=function(e){var t=e.booksCount,a=e.booksPerPage,n=Object(g.b)(),r=Object(g.c)((function(e){return e.books}));return Object(v.jsx)(C.a,{className:"paginationClass",count:Math.ceil(t/a),variant:"outlined",page:r&&r.pageNumber?r.pageNumber:"/"===window.location.pathname?1:parseInt(localStorage.getItem("bookPageNumber")),shape:"rounded",onClick:function(e){return function(e){var t=e.target.baseURI.split("/").slice(-1)[0];localStorage.setItem("bookPageNumber",t),n({type:B,payload:t}),n(K(t,20,[]))}(e)},renderItem:function(e){return Object(v.jsx)(_.a,Object(w.a)({type:"start-ellipsis","test-data":"pages",component:s.b,to:"/".concat(e.page)},e))}})},R=a(180),H=a(179),J=function(e){var t=e.books,a=Object(g.b)();return Object(v.jsx)("div",{style:{width:300},children:Object(v.jsx)(R.a,{freeSolo:!0,id:"book-search",disableClearable:!0,options:t&&t.map((function(e){return e.book_title})),renderInput:function(e){return Object(v.jsx)(H.a,Object(w.a)(Object(w.a)({},e),{},{label:"Search Books",margin:"normal",variant:"outlined",onChange:function(e){return function(e){a({type:A,payload:e.target.value})}(e)}}))}})})},U=a(181),F=a(178),W=Object(m.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",flexDirection:"column",alignItems:"center"},bookComponent:{display:"flex",flexDirection:"column",alignItems:"center"},gridClass:{display:"flex",marginLeft:"350px",flexDirection:"row",alignItems:"center"}}})),Y=function(e){Object(h.a)(e);var t=W(),a=Object(g.b)(),r=Object(g.c)((function(e){return e.books})),c=r.loading,o=r.error,s=r&&r.pageNumber?r.pageNumber:"/"===window.location.pathname?1:localStorage.getItem("bookPageNumber");Object(n.useEffect)((function(){a(K(s,20,[]))}),[]),Object(n.useEffect)((function(){window.scrollTo(0,0),i()}),[s]);var i=function(){var e=Object(O.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(s,20,[]);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(v.jsx)("div",{className:t.root,children:o?Object(v.jsx)(U.a,{severity:"error",children:"Problem loading the page, please make sure you are connected to internet. If problem persists please contact administrator."}):r&&r.length<1||c?Object(v.jsx)(F.a,{}):Object(v.jsxs)("div",{className:t.bookComponent,children:[Object(v.jsx)(f.a,{variant:"h4",children:"Book Shop"}),Object(v.jsx)(J,{books:r&&r.books}),Object(v.jsx)(x.a,{container:!0,spacing:2,className:t.gridClass,children:r&&r.books.map((function(e){return Object(v.jsx)(I,{title:e.book_title,city:e.book_publication_city,country:e.book_publication_country,authors:e.book_author,year:e.book_publication_year,pages:e.book_pages,id:e.id},e.id)}))}),Object(v.jsx)(L,{booksCount:r&&r.count,booksPerPage:20})]})})},q=function(e){Object(j.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(b.a)(this,a),t.call(this,e)}return Object(l.a)(a,[{key:"render",value:function(){return Object(v.jsx)(Y,{})}}]),a}(r.a.Component);var z=function(){return Object(v.jsx)(s.a,{children:Object(v.jsx)("div",{className:"App",children:Object(v.jsx)("header",{className:"App-header",children:Object(v.jsxs)(i.c,{children:[Object(v.jsx)(i.a,{path:"/GGAssess",exact:!0,component:q},"1"),Object(v.jsx)(i.a,{path:"/GGAssess/:pageNumber",component:q},"2")]})})})})},Q=a(80),V=a(23),X=a(46),Z=a(81),$={key:"books",storage:a.n(Z).a,whitelist:"books"},ee=Object(V.c)({books:D}),te=Object(X.a)($,ee),ae=a(82),ne=Object(V.d)(te,Object(V.a)(ae.a)),re=Object(X.b)(ne);o.a.render(Object(v.jsx)(g.a,{store:ne,children:Object(v.jsx)(Q.a,{persistor:re,children:Object(v.jsx)(z,{})})}),document.getElementById("root"))}},[[130,1,2]]]);
//# sourceMappingURL=main.a09f97c5.chunk.js.map